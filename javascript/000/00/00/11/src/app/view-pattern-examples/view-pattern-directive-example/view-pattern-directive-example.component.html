<!-- V2 using template refs
  + has stronger type checking
  + force handle errors and loaders
  + reduce code duplication (logic moved to directive)
  + flatten the structure
  - can't be configured (possible solution: send options as part of the View object)
  - no parrent container (content will be directly under the host)
-->
<div>
  <ng-container *viewContainer="view$ | async;
                          main mainTmp;
                          error errorTmp;
                          loading loaderTmp">
  </ng-container>
</div>

<ng-template #mainTmp let-v="view">
  <h4> {{ v.data.header }} </h4>
  <p> {{ v.data.text }} </p>
  <p> {{ v.data.moreText }} </p>
</ng-template>

<ng-template #errorTmp let-v="view">
  <div>Error: {{ v.error.message }} </div>
</ng-template>

<ng-template #loaderTmp let-v="view">
  <div>Loading...</div>
</ng-template>
